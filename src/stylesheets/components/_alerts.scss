// Alert variables ---------- //
$custom-alerts: () !default;
$custom-alerts-bar: () !default;

$alerts: (
  success: $color-success-background,
  warning: $color-warning-background,
  error: $color-error-background,
  info: $color-info-background
);

$alerts-bar: (
  success: $color-success,
  warning: $color-warning,
  error: $color-error,
  info: $color-info
);

$alerts: map-merge($alerts, $custom-alerts);
$alerts-bar: map-merge($alerts-bar, $custom-alerts-bar);

$h-padding: $spacing-medium;
$bar-size: $spacing-small;
$left-padding: $h-padding + $bar-size;
$icon-size: 3rem;

.alert {
  background-color: $color-gray-lightest;
  background-position: $h-padding $h-padding;
  background-repeat: no-repeat;
  background-size: 5.2rem; // TODO abrituary number based on svg size maybe?
  padding-bottom: $h-padding * 0.7;
  padding-left: $left-padding;
  padding-right: $h-padding;
  padding-top: $h-padding;
  position: relative;

  &::before {
    background-color: darken($color-gray-lightest, 40%);
    content: '';
    height: 100%;
    left: 0;
    position: absolute;
    top: 0;
    width: $bar-size;
  }

  a {
    color: $color-primary-darker;

    &:focus,
    &:hover {
      color: $color-primary-darkest;
    }
  }

  ul {
    margin-bottom: 0;
    margin-top: $spacing-small;
    padding-left: $spacing-small;
  }
}

.alert-slim {
  background-position: $h-padding $spacing-small;
  padding-bottom: $spacing-small;
  padding-top: $spacing-small;

  .alert-text:only-child {
    margin-bottom: $spacing-x-small;
    padding-top: $spacing-x-small;
  }
}

.alert-icon {
  display: table-cell;
  padding-right: $spacing-small;
}

.alert-body {
  display: table-cell;
  padding-left: $icon-size + $h-padding;
  vertical-align: top;
}

.alert-heading {
  margin-top: 0;
  margin-bottom: 0;
}

.alert-text {
  font-family: $font-sans;
  margin-bottom: 0;
  margin-top: 0;
}

.alert-text:only-child {
  margin-bottom: $spacing-small;
  padding-top: $spacing-x-small;
}

@each $name, $bgcolor in $alerts {
  .alert-#{$name} {
    background-color: $bgcolor;
    background-image: url('#{$image-path}/alerts/#{$name}.png');
    background-image: url('#{$image-path}/alerts/#{$name}.svg');

    &::before {
      background-color: map-get($alerts-bar, $name);
    }
  }
}

.alert-no_icon {
  background-image: none;
}

.alert-paragraph {
  width: $text-max-width;
}

// Deprecated
.alert {
  margin-top: 1.5em; // TODO deprecate
}
